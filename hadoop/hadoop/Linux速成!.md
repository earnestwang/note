[toc]

### Ⅰ. Linux文件与目录结构

#### Linux文件

简单说来, Linux系统中一切皆文件.(目录也是文件)

#### Linux目录结构

[![](https://itaylor.top/wp-content/uploads/2020/09/wp_editor_md_58089923faf9a8157587818260146259.jpg)](https://itaylor.top/wp-content/uploads/2020/09/wp_editor_md_58089923faf9a8157587818260146259.jpg)

Linux 系统没有类似windows盘符的概念, 它的根就是 / 目录

1. /bin 是binary的缩写, 常用的命令都在这里面
2. /dev 设备文件, 挂载配置
3. /etc 系统的配置文件都在这里面
4. /var 经常变化,经常扩充的文件, 比如说日志文件,数据库文件
5. /home  存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的  
6. /opt    这是给主机额外安装软件所设置的目录.
7. /root   该目录为系统管理员，也称作超级权限者的用户主目录  
8. /boot   该目录为系统管理员，也称作超级权限者的用户主目录  
9. /usr      这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。  

### Ⅱ.VI/VIM编辑器

> 基本上 vi/vim 共分为三种模式，分别是**命令模式（Command mode）**，**输入模式（Insert mode）**和**底线命令模式（Last line mode）** 或称指令模式。 这三种模式的作用分别是

#### 命令模式

以vi打开一个档案就直接进入一般模式了（这是默认的模式）。在这个模式中， 你可以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、贴上』来处理你的文件数据。

常用语法如下表

| 语法          | 功能描述                      |
| ------------- | ----------------------------- |
| yy            | 复制光标当前一行              |
| y数字y        | 复制一段（从第几行到第几行）  |
| p             | 箭头移动到目的行粘贴          |
| u             | 撤销上一步                    |
| dd            | 删除光标当前行                |
| d数字d        | 删除光标（含）后多少行        |
| x             | 删除一个字母，相当于del       |
| X             | 删除一个字母，相当于Backspace |
| yw            | 复制一个词                    |
| dw            | 删除一个词                    |
| shift+^       | 移动到行头                    |
| shift+$       | 移动到行尾                    |
| 1+shift+g     | 移动到页头，数字              |
| shift+g       | 移动到页尾                    |
| 数字N+shift+g | 移动到目标行                  |

vi/vim键盘图

 ![img](https://www.runoob.com/wp-content/uploads/2015/10/vi-vim-cheat-sheet-sch.gif) 

#### 编辑模式

在一般模式中可以进行删除、复制、粘贴等的动作，但是却无法编辑文件内容的！要等到你按下『i, I, o, O, a, A』等任何一个字母之后才会进入编辑模式。

注意了！通常在Linux中，按下这些按键时，在画面的左下方会出现『INSERT或 REPLACE』的字样，此时才可以进行编辑。而如果要回到一般模式时， 则必须要按下『Esc』这个按键即可退出编辑模式。



1．进入编辑模式

常用语法

| 按键 | 功能               |
| ---- | ------------------ |
| i    | 当前光标前         |
| a    | 当前光标后         |
| o    | 当前光标行的下一行 |
| I    | 光标所在行最前     |
| A    | 光标所在行最后     |
| O    | 当前光标行的上一行 |

2．退出编辑模式

按『Esc』键

#### 指令模式

在一般模式当中，输入『 : / ?』3个中的任何一个按钮，就可以将光标移动到最底下那一行。

在这个模式当中， 可以提供你『搜寻资料』的动作，而读取、存盘、大量取代字符、离开 vi 、显示行号等动作是在此模式中达成的！

基本语法

| 命令          | 功能                             |
| ------------- | -------------------------------- |
| :w            | 保存                             |
| :q            | 退出                             |
| :!            | 强制执行                         |
| /要查找的词   | n 查找下一个，N 往上查找         |
| ? 要查找的词  | n是查找上一个，shift+n是往下查找 |
| :set nu       | 显示行号                         |
| :set nonu     | 关闭行号                         |
| :%s/old/new/g | 替换内容                         |

常用的有 :wq  保存退出

[![](https://itaylor.top/wp-content/uploads/2020/09/wp_editor_md_e99ba60bfbeae3f67f358c84e6ea7fd2.jpg)](https://itaylor.top/wp-content/uploads/2020/09/wp_editor_md_e99ba60bfbeae3f67f358c84e6ea7fd2.jpg)

### Ⅲ.基本命令

#### 文件目录类

1. pwd

   绝对路径方式显示用户当前工作目录

   补充说明

   **pwd命令** 以绝对路径的方式显示用户当前工作目录。命令将当前目录的全路径名称（从根目录）写入标准输出。全部目录使用`/`分隔。第一个`/`表示根目录，最后一个目录是当前目录。执行pwd命令可立刻得知您目前所在的工作目录的绝对路径名称。

   语法

```
pwd（选项）
实例:
[root@localhost ~]# pwd
/root
```

---

2. ls

   显示目录内容列表

   补充说明

   **ls命令** 用来显示目标列表，在Linux中是使用率较高的命令。ls命令的输出信息可以进行彩色加亮显示，以分区不同类型的文件。

   语法

```
ls（选项）（参数）
实例: 
$ ls       # 仅列出当前目录可见文件
$ ls -l    # 列出当前目录可见文件详细信息
$ ls -hl   # 列出详细信息并以可读大小显示文件大小
$ ls -al   # 列出所有文件（包括隐藏）的详细信息
```

---

3. cd

   切换用户当前工作目录

   补充说明

   **cd命令** 用来切换工作目录至dirname。 其中dirName表示法可为绝对路径或相对路径。若目录名称省略，则变换至使用者的home directory(也就是刚login时所在的目录)。另外，`~`也表示为home directory的意思，`.`则是表示目前所在的目录，`..`则表示目前目录位置的上一层目录。

   语法

```
cd (选项) (参数)
```

---

4. mkdir

   用来创建目录

   补充说明

   **mkdir命令** 用来创建目录。该命令创建由dirname命名的目录。如果在目录名的前面没有加任何路径名，则在当前目录下创建由dirname指定的目录；如果给出了一个已经存在的路径，将会在该目录下创建一个指定的目录。在创建目录时，应保证新建的目录与它所在目录下的文件没有重名。 

   注意：在创建文件时，不要把所有的文件都存放在主目录中，可以创建子目录，通过它们来更有效地组织文件。最好采用前后一致的命名方式来区分文件和目录。例如，目录名可以以大写字母开头，这样，在目录列表中目录名就出现在前面。

   在一个子目录中应包含类型相似或用途相近的文件。例如，应建立一个子目录，它包含所有的数据库文件，另有一个子目录应包含电子表格文件，还有一个子目录应包含文字处理文档，等等。目录也是文件，它们和普通文件一样遵循相同的命名规则，并且利用全路径可以唯一地指定一个目录。

   语法

```
mkdir (选项)(参数)
```

---

5. cp

   将源文件或目录复制到目标文件或目录中

   补充说明

   **cp命令** 用来将一个或多个源文件或者目录复制到指定的目的文件或目录。它可以将单个源文件复制成一个指定文件名的具体的文件或一个已经存在的目录下。cp命令还支持同时复制多个文件，当一次复制多个文件时，目标文件参数必须是一个已经存在的目录，否则将出现错误。

   语法

```
cp(选项)(参数)
```

	 选项

```
-a：此参数的效果和同时指定"-dpR"参数相同；
-d：当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录；
-f：强行复制文件或目录，不论目标文件或目录是否已存在；
-i：覆盖既有文件之前先询问用户；
-l：对源文件建立硬连接，而非复制文件；
-p：保留源文件或目录的属性；
-R/r：递归处理，将指定目录下的所有文件与子目录一并处理；
-s：对源文件建立符号连接，而非复制文件；
-u：使用这项参数后只会在源文件的更改时间较目标文件更新时或是名称相互对应的目标文件并不存在时，才复制文件；
-S：在备份文件时，用指定的后缀“SUFFIX”代替文件的默认后缀；
-b：覆盖已存在的文件目标前将目标文件备份；
-v：详细显示命令执行的操作。

将目录/usr/men下的所有文件及其子目录复制到目录/usr/zh中
cp -r /usr/men /usr/zh
```

6. rm

   用于删除给定的文件和目录

   补充说明

   **rm** **命令** 可以删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉。对于链接文件，只是删除整个链接文件，而原有文件保持不变。

   注意：使用rm命令要格外小心。因为一旦删除了一个文件，就无法再恢复它。所以，在删除文件之前，最好再看一下文件的内容，确定是否真要删除。rm命令可以用-i选项，这个选项在使用文件扩展名字符删除多个文件时特别有用。使用这个选项，系统会要求你逐一确定是否要删除。这时，必须输入y并按Enter键，才能删除文件。如果仅按Enter键或其他字符，文件不会被删除。

   语法

```
    rm (选项)(参数)

    rm 命令删除目录
    rm -r [目录名称] -r 表示递归地删除目录下的所有文件和目录。 -f 表示强制删除
    rm -rf testdir
```

7. mv

   用来对文件或目录重新命名

   补充说明

   **mv命令** 用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中。source表示源文件或目录，target表示目标文件或目录。如果将一个文件移到一个已经存在的目标文件中，则目标文件的内容将被覆盖。

   mv命令可以用来将源文件移至一个目标文件中，或将一组文件移至一个目标目录中。源文件被移至目标文件有两种不同的结果：

   1. 如果目标文件是到某一目录文件的路径，源文件会被移到此目录下，且文件名不变。
   2. 如果目标文件不是目录文件，则源文件名（只能有一个）会变为此目标文件名，并覆盖己存在的同名文件。如果源文件和目标文件在同一个目录下，mv的作用就是改文件名。当目标文件是目录文件时，源文件或目录参数可以有多个，则所有的源文件都会被移至目标文件中。所有移到该目录下的文件都将保留以前的文件名。

   注意事项：mv与cp的结果不同，mv好像文件“搬家”，文件个数并未增加。而cp对文件进行复制，文件个数增加了。

   语法

```
mv(选项)(参数)

--backup=<备份模式>：若需覆盖文件，则覆盖前先行备份；
-b：当文件存在时，覆盖前，为其创建一个备份；
-f：若目标文件或目录与现有的文件或目录重复，则直接覆盖现有的文件或目录；
-i：交互式操作，覆盖前先行询问用户，如果源文件与目标文件或目标目录中的文件同名，则询问用户是否覆盖目标文件。用户输入”y”，表示将覆盖目标文件；输入”n”，表示取消对源文件的移动。这样可以避免误将文件覆盖。
--strip-trailing-slashes：删除源文件中的斜杠“/”；
-S<后缀>：为备份文件指定后缀，而不使用默认的后缀；
--target-directory=<目录>：指定源文件要移动到目标目录；
-u：当源文件比目标文件新或者目标文件不存在时，才执行移动操作。
```



8. cat

    连接文件并打印到标准输出设备上 

9. echo 

    输出指定的字符串或者变量

10. tail

    tail用于输出文件中尾部的内容，默认情况下tail指令显示文件的后10行内容。

    用法

```
（1）tail  文件 			（功能描述：查看文件尾部10行内容）
（2）tail  -n  5 文件 	（功能描述：查看文件尾部5行内容，5可以是任意行数）
（3）tail  -f  文件		（功能描述：实时追踪该文档的所有更新）
```

11. history

    查看历史命令

#### 用户管理类

1. useradd

   创建的新的系统用户

   补充说明

   **useradd命令** 用于Linux中创建的新的系统用户。useradd可用来建立用户帐号。帐号建好之后，再用passwd设定帐号的密码．而可用userdel删除帐号。使用useradd指令所建立的帐号，实际上是保存在`/etc/passwd`文本文件中。

   在Slackware中，adduser指令是个script程序，利用交谈的方式取得输入的用户帐号资料，然后再交由真正建立帐号的useradd命令建立新用户，如此可方便管理员建立用户帐号。在Red Hat Linux中， **adduser命令** 则是useradd命令的符号连接，两者实际上是同一个指令。

   语法

   ```
   useradd(选项)(参数)
   
   实例
   新建用户加入组：
   
   useradd –g sales jack –G company,employees    //-g：加入主要组、-G：加入次要组
   建立一个新用户账户，并设置ID：
   
   useradd caojh -u 544
   需要说明的是，设定ID值时尽量要大于500，以免冲突。因为Linux安装后会建立一些特殊用户，一般0到499之间的值留给bin、mail这样的系统账号。
   ```

2. passwd

    用于让用户可以更改自己的密码 

   语法

   ```
   passwd(选项)(参数)
   
   选项
   -d：删除密码，仅有系统管理者才能使用；
   -f：强制执行；
   -k：设置只有在密码过期失效后，方能更新；
   -l：锁住密码；
   -s：列出密码的相关信息，仅有系统管理者才能使用；
   -u：解开已上锁的帐号。
   参数
   用户名：需要设置密码的用户名。
   ```

3. su

   切换用户

4. sudo

   设置普通用户有root权限

   配置流程:

   ```
   修改配置文件
   [root@hadoop101 ~]#vi /etc/sudoers
   
   修改 /etc/sudoers 文件，找到下面一行(91行)，在root下面添加一行，如下所示：
   ## Allow root to run any commands anywhere
   root    ALL=(ALL)     ALL
   wmj   ALL=(ALL)     ALL
   
   或者配置成采用sudo命令时，不需要输入密码
   ## Allow root to run any commands anywhere
   root      ALL=(ALL)     ALL
   wmj   ALL=(ALL)     NOPASSWD:ALL
   
   修改完毕，现在可以用wmj帐号登录，然后用命令 sudo ，即可获得root权限进行操作。
   ```

#### 文件权限类

##### 文件属性

Linux系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。为了保护系统的安全性，Linux系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。在Linux中我们可以使用ll或者ls -l命令来显示一个文件的属性以及文件所属的用户和组。

1．从左到右的10个字符表示

[![](https://itaylor.top/wp-content/uploads/2020/09/wp_editor_md_9efac8ebf55af0d43f96542027a2b128.jpg)](https://itaylor.top/wp-content/uploads/2020/09/wp_editor_md_9efac8ebf55af0d43f96542027a2b128.jpg)



如果没有权限，就会出现减号[ - ]而已。从左至右用0-9这些数字来表示:

（1）0首位表示类型

		在Linux中第一个字符代表这个文件是目录、文件或链接文件等等
	
		- 代表文件
	
		 d 代表目录
	
		 l 链接文档(link file)；

（2）第1-3位确定属主（该文件的所有者）拥有该文件的权限。---User

（3）第4-6位确定属组（所有者的同组用户）拥有该文件的权限，---Group

（4）第7-9位确定其他用户拥有该文件的权限 ---Other

2．rxw作用文件和目录的不同解释

	（1）作用到文件：
	
		[ r ]代表可读(read): 可以读取，查看
	
		[ w ]代表可写(write): 可以修改，但是不代表可以删除该文件，删除一个文件的前提条件是对该文件		所在的目录有写权限，才能删除该文件.
	
		[ x ]代表可执行(execute):可以被系统执行

（2）作用到目录：

		[ r ]代表可读(read): 可以读取，ls查看目录内容
	
		[ w ]代表可写(write): 可以修改，目录内创建+删除+重命名目录
	
		[ x ]代表可执行(execute):可以进入该目录
##### chmod

第一种方式变更权限

​       chmod [{ugoa}{+-=}{rwx}] 文件或目录

第二种方式变更权限

​    chmod [mode=421 ] [文件或目录]

2．经验技巧

​    u:所有者 g:所有组 o:其他人 a:所有人(u、g、o的总和)

​	r=4 w=2 x=1    rwx=4+2+1=7

#####  chown 

改变所有者

1．基本语法

chown [选项] [最终用户] [文件或目录]      （功能描述：改变文件或者目录的所有者）

2．选项说明

| 选项 | 功能     |
| ---- | -------- |
| -R   | 递归操作 |

#### 搜索查找类

##### find

find 查找文件或目录

find指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件显示在终端。

1．基本语法

​    find [搜索范围] [选项]

2．选项说明

| 选项            | 功能                                                         |
| --------------- | ------------------------------------------------------------ |
| -name<查询方式> | 按照指定的文件名查找模式查找文件                             |
| -user<用户名>   | 查找属于指定用户名所有文件                                   |
| -size<文件大小> | 按照指定的文件大小查找文件,单位为:   **b** —— 块（512字节）  **c** —— 字节  **w** —— 字（2字节）  **k** —— 千字节  **M** —— 兆字节  **G** —— 吉字节 |

#####          locate  

快速定位文件路径  

locate指令利用事先建立的系统中所有文件名称及路径的locate数据库实现快速定位给定的文件。Locate指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新locate时刻。

1．基本语法 

​    locate 搜索文件

2．经验技巧

​    由于locate指令基于数据库进行查询，所以第一次运行前，必须使用updatedb指令创建locate数据库。

#####          grep 过滤查找及“|”管道符  

管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理

1．基本语法

grep 选项 查找内容 源文件

2．选项说明

表7-22

| 选项 | 功能               |
| ---- | ------------------ |
| -n   | 显示匹配行及行号。 |

3．案例实操

查找某文件在第几行

[root@hadoop101 ~]# ls | grep -n test

#### 压缩和解压

##### gzip/gunzip

1．基本语法

​	gzip 文件       （功能描述：压缩文件，只能将文件压缩为*.gz文件）

​	gunzip 文件.gz   （功能描述：解压缩文件命令）

2．经验技巧

（1）只能压缩文件不能压缩目录

（2）不保留原来的文件

3．案例实操

（1）gzip压缩

​	[root@hadoop101 ~]# ls

​	test.java

​	[root@hadoop101 ~]# gzip houge.txt

​	[root@hadoop101 ~]# ls

​	houge.txt.gz

（2）gunzip解压缩文件

​	[root@hadoop101 ~]# gunzip houge.txt.gz 

​	[root@hadoop101 ~]# ls

​	houge.txt

##### zip/unzip

基本语法

zip [选项] XXX.zip 将要压缩的内容      （功能描述：压缩文件和目录的命令）

unzip [选项] XXX.zip                   （功能描述：解压缩文件）

##### tar

 Linux下的归档使用工具，用来打包和备份。 

**tar命令** 可以为linux的文件和目录创建档案。利用tar，可以为某一特定文件创建档案（备份文件），也可以在档案中改变文件，或者向档案中加入新的文件。tar最初被用来在磁带上创建档案，现在，用户可以在任何设备上创建档案。利用tar命令，可以把一大堆的文件和目录全部打包成一个文件，这对于备份文件或将几个文件组合成为一个文件以便于网络传输是非常有用的。

首先要弄清两个概念：打包和压缩。打包是指将一大堆文件或目录变成一个总的文件；压缩则是将一个大的文件通过一些压缩算法变成一个小文件。

为什么要区分这两个概念呢？这源于Linux中很多压缩程序只能针对一个文件进行压缩，这样当你想要压缩一大堆文件时，你得先将这一大堆文件先打成一个包（tar命令），然后再用压缩程序进行压缩（gzip bzip2命令）。

语法

```
tar(选项)(参数)

文件或目录：指定要打包的文件或目录列表。

（1）压缩多个文件
[root@hadoop101 opt]# tar -zcvf houma.tar.gz houge.txt bailongma.txt 
houge.txt
bailongma.txt
[root@hadoop101 opt]# ls
houma.tar.gz houge.txt bailongma.txt 
（2）压缩目录
[root@hadoop101 ~]# tar -zcvf xiyou.tar.gz xiyou/
xiyou/
xiyou/mingjie/
xiyou/dssz/
xiyou/dssz/houge.txt
（3）解压到当前目录
[root@hadoop101 ~]# tar -zxvf houma.tar.gz
（4）解压到指定目录
[root@hadoop101 ~]# tar -zxvf xiyou.tar.gz -C /opt
[root@hadoop101 ~]# ll /opt/
```

#### 进程线程类

##### ps

process status 进程状态

1．基本语法

​    ps -aux | grep xxx     （功能描述：查看系统中所有进程）

​    ps -ef | grep xxx      （功能描述：可以查看子父进程之间的关系）

2．选项说明

| 选项 | 功能                   |
| ---- | ---------------------- |
| -a   | 选择所有进程           |
| -u   | 显示所有用户的所有进程 |
| -x   | 显示没有终端的进程     |

3．功能说明

​    （1）ps -aux显示信息说明

   	 	USER：该进程是由哪个用户产生的

 		   PID：进程的ID号

​			%CPU：该进程占用CPU资源的百分比，占用越高，进程越耗费资源；

​			%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源；

​			VSZ：该进程占用虚拟内存的大小，单位KB；

​			RSS：该进程占用实际物理内存的大小，单位KB；

​			TTY：该进程是在哪个终端中运行的。其中tty1-tty7代表本地控制台终端，tty1-tty6是本地的字符界面终端，tty7是图形终端。pts/0-255代表虚拟终端。

​			STAT：进程状态。常见的状态有：R：运行、S：睡眠、T：停止状态、s：包含子进程、+：位于后台

​			START：该进程的启动时间

​			TIME：该进程占用CPU的运算时间，注意不是系统时间

​			COMMAND：产生此进程的命令名

（2）ps -ef显示信息说明

​		UID：用户ID 

​		PID：进程ID 

​		PPID：父进程ID 

​		C：CPU用于计算执行优先级的因子。数值越大，表明进程是CPU密集型运算，执行优先级会降低；数值越小，表明进程是I/O密集型运算，执行优先级会提高 

​		STIME：进程启动的时间 

​		TTY：完整的终端名称 

​		TIME：CPU时间 

​		CMD：启动进程所用的命令和参数

4．经验技巧

​    如果想查看进程的CPU占用率和内存占用率，可以使用 -aux;

​	如果想查看进程的父进程ID可以使用 -ef;

##### kill

1．基本语法

​    kill [选项] 进程号      （功能描述：通过进程号杀死进程）

​    killall 进程名称         （功能描述：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用）    

2．选项说明

| 选项 | 功能                 |
| ---- | -------------------- |
| -9   | 表示强迫进程立即停止 |

3．案例实操

​    （1）杀死浏览器进程

[root@hadoop101 桌面]# kill -9 5102

​    （2）通过进程名称杀死进程

[root@hadoop101 桌面]# killall firefox

##### top

查看系统健康状态  

1．基本命令

​    top [选项]   

2．选项说明

| 选项    | 功能                                                         |
| ------- | ------------------------------------------------------------ |
| -d 秒数 | 指定top命令每隔几秒更新。默认是3秒在top命令的交互模式当中可以执行的命令： |
| -i      | 使top不显示任何闲置或者僵死进程。                            |
| -p      | 通过指定监控进程ID来仅仅监控某个进程的状态。                 |

3．操作说明

| 操作 | 功能                          |
| ---- | ----------------------------- |
| P    | 以CPU使用率排序，默认就是此项 |
| M    | 以内存的使用率排序            |
| N    | 以PID排序                     |
| q    | 退出top                       |

4．查询结果字段解释

第一行信息为任务队列信息

| 内容                             | 说明                                                         |
| -------------------------------- | ------------------------------------------------------------ |
| 12:26:46                         | 系统当前时间                                                 |
| up 1 day, 13:32                  | 系统的运行时间，本机已经运行1天  13小时32分钟                |
| 2 users                          | 当前登录了两个用户                                           |
| load average:   0.00, 0.00, 0.00 | 系统在之前1分钟，5分钟，15分钟的平均负载。一般认为小于1时，负载较小。如果大于1，系统已经超出负荷。 |

第二行为进程信息

| Tasks: 95 total | 系统中的进程总数                          |
| --------------- | ----------------------------------------- |
| 1 running       | 正在运行的进程数                          |
| 94 sleeping     | 睡眠的进程                                |
| 0 stopped       | 正在停止的进程                            |
| 0 zombie        | 僵尸进程。如果不是0，需要手工检查僵尸进程 |

第三行为CPU信息

| Cpu(s): 0.1%us | 用户模式占用的CPU百分比                                      |
| -------------- | ------------------------------------------------------------ |
| 0.1%sy         | 系统模式占用的CPU百分比                                      |
| 0.0%ni         | 改变过优先级的用户进程占用的CPU百分比                        |
| 99.7%id        | 空闲CPU的CPU百分比                                           |
| 0.1%wa         | 等待输入/输出的进程的占用CPU百分比                           |
| 0.0%hi         | 硬中断请求服务占用的CPU百分比                                |
| 0.1%si         | 软中断请求服务占用的CPU百分比                                |
| 0.0%st         | st（Steal time）虚拟时间百分比。就是当有虚拟机时，虚拟CPU等待实际CPU的时间百分比。 |

第四行为物理内存信息

| Mem:  625344k total | 物理内存的总量，单位KB                                       |
| ------------------- | ------------------------------------------------------------ |
| 571504k used        | 已经使用的物理内存数量                                       |
| 53840k free         | 空闲的物理内存数量，我们使用的是虚拟机，总共只分配了628MB内存，所以只有53MB的空闲内存了 |
| 65800k buffers      | 作为缓冲的内存数量                                           |

第五行为交换分区（swap）信息

| Swap:  524280k total | 交换分区（虚拟内存）的总大小 |
| -------------------- | ---------------------------- |
| 0k used              | 已经使用的交互分区的大小     |
| 524280k free         | 空闲交换分区的大小           |
| 409280k cached       | 作为缓存的交互分区的大小     |

5．案例实操

[root@hadoop101 desktop]# top -d 1

[root@hadoop101 desktop]# top -i

[root@hadoop101 desktop]# top -p 2575

##### netstat  

显示网络统计信息和端口占用情况  

1．基本语法

​    netstat -anp |grep 进程号   （功能描述：查看该进程网络信息）

​    netstat -nlp   | grep 端口号 （功能描述：查看网络端口号占用情况）

2．选项说明

表7-40

| 选项 | 功能                                     |
| ---- | ---------------------------------------- |
| -n   | 拒绝显示别名，能显示数字的全部转化成数字 |
| -l   | 仅列出有在listen（监听）的服务状态       |
| -p   | 表示显示哪个进程在调用                   |

3．案例实操

（1）通过进程号查看该进程的网络信息

​	[root@hadoop101 hadoop-2.7.2]# netstat -anp | grep 火狐浏览器进程号

​	unix 2   [ ACC ]   STREAM   LISTENING   **20670** 3115/firefox    /tmp/orbit-root/linc-c2b-0-5734667cbe29

​	unix 3   [ ]     STREAM   CONNECTED   20673 3115/firefox    /tmp/orbit-root/linc-c2b-0-5734667cbe29

​	unix 3   [ ]     STREAM   CONNECTED   20668 3115/firefox    

​	unix 3   [ ]     STREAM   CONNECTED   20666 3115/firefox   

（2）查看某端口号是否被占用

​	[root@hadoop101 桌面]# netstat -nlp | grep **20670** 

​	unix 2   [ ACC ]   STREAM   LISTENING   20670 3115/firefox    /tmp/orbit-root/linc-c2b-0-5734667cbe29



